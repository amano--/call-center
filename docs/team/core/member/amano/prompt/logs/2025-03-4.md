### 2025-3-

---

---

---

---

src/features/member/member-registration/i18n/ja
以下のファイルを一つのファイルにまとめてください

---

type,const 以外禁止
export default 禁止
エラーはEffect-TSを使用したResult型の処理

冒頭コメントには実装計画書、タスク実装計画書へのパス。
Viewの名前が付いてたら名前。
コードコメントには、AIの思考過程を記録。末尾コメントには改変履歴5つ

---

### 2025-3-28

src/features/member/member-registration/components/MemberRegistrationForm/BasicInfo.tsx
を zod なしに実装してください。

Effect-TS をつかったバリデーションを
src/features/member/member-registration/schema/effect-validation.ts
に実装してください。

では今までの経験を振り返り　docs/usecases/note/v01/　を参考にし、ガイド、手順書を改善してください。

条件は以下の通り
もと文書の構造は極力保つように、壊さずにうまく追記してください

docs/usecases/guide/v02/implementation/implementation-plan/steps/form-validation にフォーム、バリデーション関連のガイドをまとめてください。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書とガイドラインの改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v01/　に改善点ごとに新規ファイルを保存してください。

src/features/member/member-registration/components/MemberRegistrationForm/BasicInfo.tsx

バリデーションは zod を使う予定なので
src/features/member/member-registration/schema

を調べて、実装を合わせてください。

---

docs/usecases/guide/v02/implementation/implementation-plan/steps/i18n/index.md
は
docs/usecases/guide/v02/implementation/implementation-plan/steps/i18n　以下のファイル類の説明とリンク、このフォルダ自体の概要が記述されている必要があります

---

docs/usecases/guide/v02/implementation/implementation-plan/steps/i18n-process.md
は古い情報なので詳細は
docs/usecases/guide/v02/implementation/implementation-plan/steps/i18n/index.md
を参照的な記述に変えてください

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書とガイドラインの改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に改善点ごとに新規ファイルを保存してください。

では今までの経験を振り返り　docs/usecases/note/v09/　を参考にし、ガイド、手順書を改善してください。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書とガイドラインの改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に改善点ごとに新規ファイルを保存してください。

では、src/features/member/member-registration/components/MemberRegistrationForm/BasicInfo.tsx　に対して多言語対応お願いします。

---

だからさ、型推論でsrc/features/member/member-registration/i18n/ja　の定数から逆算して　ValidationMessages　は消して

---

だからさ、src/i18n/text.ts　はAI編集禁止って言ってるでしょ。別の方法考えて

---

getMessage(locale, 'member.registration.validation.required' as keyof Messages, field),

ではなくて const {t} = useText(FEATURE_ID.MEMBER_REGISTRATION)
t.MESSAGE_KEYS.validation.required("メールアドレス") 的な型安全なアクセスをして欲しいのです

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書とガイドラインの改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に改善点ごとに新規ファイルを保存してください。

では、member-regstrarion 機能に対して、修正をお願いします。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に改善点ごとに新規ファイルを保存してください。

僕の方で　src/i18n　以下の実装を見直しました。全て辿って確認して、
改善点やコードの見直し点をまとめてください。

---

現状だと
src/i18n/text.ts　の　useText から　src/features/member/member-registration/i18n/index.ts　にリーチさせるための引数情報が足らないのでどうしたらいいと思う？　型安全にしたい。useText(memberRegstration) みたいな感じ

---

src/i18n/resources.ts　から、型情報を types\　フォルダに分離しましょう。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

今までの経験とdocs/usecases/note/v09/を参考に必要な手順書の改善をお願いします。
特に多言語対応は必須です。

条件は以下の通り
もと文書の構造は極力保つように、壊さずにうまく追記してください

---

src/i18n/resources.ts　に型定義あるって言ったよね？ここからtypes にでも分離して使って。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

必ず以下の規約をよく読み理解して始めること

- docs/ai/guidelines/standards-guidelines-all.md
- ai/guidelines/tech-stack.md
  の文言をタスク実装計画書の実装前の段階の冒頭に追記して欲しい。

そうなるために必要な手順書の改善をお願いします。

条件は以下の通り
もと文書の構造は極力保つように、壊さずにうまく追記してください

---

src/features/member/member-registration/docs/plan/2025-03-26/tasks/task-details/task-1-1-form-component.md

なんだけど、components の実装がないみたいだけどわすれた？　hooks の実装はある。

---

嘘書いてない？
00-standards　は多分
docs/guidelines/implementation/00-standards

で　tasks/　なんて存在しない

---

index.md 　## 2. ディレクトリ構造　は重要。最新の状態を調べて書き直して

steps.md　の

# 9. 参照　

は重要

---

index.md の　## タスクの種類と対応するテンプレート
は重要な部分ですが、ここの記述が適切でない気がします。
steps.md　の　## 3. タスクの分割　あたりが適切です。移動してください

docs/usecases/guide/v02/implementation/implementation-plan/steps.md　は変えすぎです。

もと文書の構造は極力保つように、壊さずにうまく追記してください

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

src/features/member/member-registration/docs/plan/2025-03-26/tasks/task-plans.md

に個別タスクファイルへのリンクが必要です。
また、docs/guidelines/implementation/00-standards/event-sourcing.md　による実装タスクが必要だと思うので
タスク追加お願い

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

今までの経験を振り返り、docs/usecases/note/v09/　を参考にして、同じ指摘を受けないように[手順書](docs/usecases/guide/v02/implementation/)
を改善してください。条件は以下の通り

もと文書の構造は極力保つように、壊さずにうまく追記してください

### 2025-3-27

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

では、src/features/member/member-registration/docs/plan/2025-03-26/tasks/task-details/task-2-1-server-actions.md

の実装を進めてください

条件は以下の通り

もと文書の構造は極力保つように、壊さずにうまく追記してください

---

docs/usecases/guide/v02/implementation/implementation-plan/task-template/i18n.md

に　docs/guidelines/implementation/00-standards/i18n.md　へのリンクが足りません。

---

今までの経験を振り返り、docs/usecases/note/v09/　を参考にして、同じ指摘を受けないように[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)
を改善してください。条件は以下の通り

docs/guidelines/implementation/00-standards/i18n.md　も追記ポイントがあれば追記してください。

もと文書の構造は極力保つように、壊さずにうまく追記してください

---

t.member.registration.errors.maxLength　とかの扱いが変です

docs/guidelines/implementation/00-standards/i18n.md

を読み直し関数化をお願いします

---

## src/features/member/member-registration/schema/i18n-validation.ts　が全然多言語化されてません。message全部が多言語か対象です。見直してください

.max(256, { message: "256文字以内で入力してください" })
なども同様に全て多言語化してください。

---

basicInfoSchema　を多言語化したいです。

basicInfoSchema = ({t}:{t: I18nResource[Locale]}) => {
z.object({
email: z.string()
.email({ message: t.member.email})
};
みたいな形で実装お願いします。
I18nResource は　src/i18n/text.ts　を参照

---

今までの経験をもとにform と　validation に対する対応方法をまとめたものをそれぞれ
docs/guidelines/implementation/tasks
に詳細にまとめてください。

---

src/features/member/member-registration/docs/plan/2025-03-26/tasks/task-details/task-1-2-validation-logic.md　を進めて

---

今までの経験を振り返り、docs/usecases/note/v09/　を参考にして、同じ指摘を受けないように[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)
を改善してください。条件は以下の通り

もと文書の構造は極力保つように、壊さずにうまく追記してください
またform validation実装タスクは特別なテンプレートで作った方が良いと思っています。task-template/form-validation.md
のようにべっとファイルを分けてテンプレートを作成して欲しいです。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

---

今までの経験をもとにenum型に対する対応方法をまとめたものを
docs/guidelines/implementation/00-standards/
にあるので
もと文書の構造は極力保つように、壊さずにうまく追記してください

---

Male: "MALE",
は
Male: "Male",
のように、同じにして、それを表示するときは多言語対応のキーとして使用してください。

type const 以外禁止です。コーディング規約を読み直してください。

---

### 2025-3-26

src/features/member/member-registration/docs/plan/2025-03-26/tasks/task-details/task-1-1-form-component.md
に、属性情報は　docs/usecases/v04/attribute/member-model.md　を参照リンクを記述し、
全ての属性を入力できるようにしてください。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

では　src/features/member/member-registration/docs/plan/2025-03-26/tasks/task-details/task-1-1-form-component.md
の実装を進めてください。条件は以下の通り

属性情報は　docs/usecases/v04/attribute/member-model.md　を参照
コーディング規約は守ってください。
ステップバイステップで進めてください。キリのいいところで止めてください。

---

docs/usecases/guide/v02/implementation/implementation-plan/steps.md
の　1. ディレクトリ構造　は

src/features/member/member-registration/docs/README.md
の　## ディレクトリ構成
にしたいです。

docs/usecases/v04/usecase-text/member-registration/usecase-detail.md
から保存すべき機能フォルダ割り出しそれ以降に docs フォルダを作るイメージです

src/features/[機能グループ名]/[機能名]/docs

---

docs/usecases/guide/v02/implementation/implementation-plan/template.md
の
[既存の内容]
[以降のフェーズも同様に定義]
[既存の5以降のセクションは維持]

　は展開されるべき部分だと思います。

---

今までの経験を振り返り、docs/usecases/note/v09/　を参考にして、同じ指摘を受けないように[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)
を改善してください。条件は以下の通り

もと文書の構造は極力保つように、壊さずにうまく追記してください

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

---

レビューです。

作るべきタスク実装計画書ってそれだけですか？　もっとあるはずです。手順書を確認してください

### Task 1.1: フォームコンポーネントの作成

につき1ファイル　docs/usecases/guide/v02/implementation/implementation-plan/task-templateに従って 作られるイメージです。

技術スタックに　認証系は NextAuth　を使うことを明記してください。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

計画書の保存先は
src/features/member/member-registration/docs/plan/[YYYY-MM-DD]/implementation-plan.md
taskとかは　src/features/member/member-registration/docs/plan/[YYYY-MM-DD]/tasks/

ではタスク実装計画書をdocs/usecases/guide/v02/implementation/implementation-plan/steps.md
に従ってステップバイステップで作成してください。

---

レビューです。

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

計画書の保存先は
src/features/member/member-registration/docs/plan/[YYYY-MM-DD]/implementation-plan.md
taskとかは　src/features/member/member-registration/docs/plan/[YYYY-MM-DD]/tasks/

にしてください。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/implementation/implementation-plan/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v09/　に保存してください。

では　docs/usecases/v04/usecase-text/member-registration/usecase-detail.md をもとにして
docs/usecases/guide/v02/implementation/implementation-plan　に従って実装計画書を作成してください。

-　以下のガイドをよく読み規約に従ったコード例を書いてください。

- docs/ai/guidelines/standards-guidelines-all.md
- docs/ai/guidelines/tech-stack.md

- 保存先は　src/features/member/member-registration

ではステップバイステップで進めてください。

---

docs/ai/guidelines/tech-stack.md　のバックエンド技術を
ReactServerComponentに置き換えてください。

---

docs/usecases/v04/usecase-text/member-registration/scenario-examples
を読んで
docs/usecases/v04/usecase-text/reading-group-join/usecase-text.md
docs/usecases/v04/usecase-text/reading-group-join/usecase-detail.md
に足らない部分を考え、追記してください。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/design/usecase-detail)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v08/　に保存してください。

ではこれから　docs/usecases/v04/usecase-text/member-registration/usecase-detail.md
をもとにして　usecase-detailを docs/usecases/guide/v02/design/usecase-detail/　に則って作成してください。
ファイル保存先は　docs/usecases/v04/usecase-text/member-registration/

---

### 2025-3-25

---

code-examplesのコード類をMichael Arnaldi になったつもりで、新しいusecase-detail.mdに基づいて改善してください。

---

今までの経験を振り返り、docs/usecases/note/v08/　を参考にして、同じ指摘を受けないように[手順書](docs/usecases/guide/v02/design/usecase-detail)
を改善してください。条件は以下の通り

もと文書の構造は極力保つように、壊さずにうまく追記してください

---

では今までの経験を振り返り、docs/usecases/v04/usecase-text/member-registration/usecase-detail.md
をMichael Arnaldi になったつもりで、実装に足らない記述を発見してください。

作業過程での改善点等の気づきはファイルとして docs/usecases/note/v08/　に新規保存してください。

実装に足らない記述を発見したら追記をお願いします。
もと文書の構造は極力保つように、壊さずにうまく追記してください

---

今までの経験を振り返り、熟孝し　docs/usecases/note/v07/　に新規ファイルで知見をまとめてください

---

あなたのタスクは[手順書](docs/usecases/guide/v02/design/usecase-detail)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v07/　に保存してください。

ではこれから　docs/usecases/v04/usecase-text/reading-group-join/usecase-text.md
をもとにして　usecase-detailを docs/usecases/guide/v02/design/usecase-detail/　に則って作成してください。
ファイル保存先は　docs/usecases/v04/usecase-text/reading-group-join/

コーディング規約は　docs/guidelines/implementation　にあります。
特に　docs/guidelines/implementation/00-standards　は重要なので必ず守ってください。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/create-all/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v06/　に保存してください。

ではこれから　docs/usecases/v04/usecase-text/member-registration/usecase-text.md
をもとにして　usecase-detail.md というファイルを作成したいと思っています。

条件は以下の通り

- 〇〇が〇〇を〇〇のように〇〇する。という形式で記述されよりシステム開発者寄りの視点で詳細化された
  テキストになっている。
- 実装時の注意点が網羅されている。
- 個別機能開発担当者と要求定義、分析をする人とをつなぐ資料になっている。
- 別ファイルでプログラミング時のコード規約にのっとたサンプルコードが記述されている。
- このファイルをもとに機能実装できる情報が網羅されている。

まずは「ユースケース詳細作成手順書」作成したいので　docs/usecases/guide/v02/design　以下に作成してください。

では　Memberに対して　docs/usecases/guide/v02/design/data-model を実行してみましょう
ファイル保存先は　docs/usecases/v04
ファイルを一つ作成したら確認したいので、作業をやめ承認を取ってください。

---

### 2025-3-24

docs/usecases/guide/v02/create-all/guide.md

にdocs/usecases/guide/v02/create-allの位置付けと

## に以下のようなユーザーのプロンプトサンプルを追記してください

docs/usecases/v04/core-values.mdから、
[手順書](docs/usecases/guide/v02/create-all)をもとに
ユースケース概要とモデル概要の資料を作成する手順書を作成したいと思います。

---

---

### 1.2 キーワードとガイドラインの対応

を
docs/usecases/guide/v02/design/
いかを調査して全てに対して作って欲しいです

---

ユースケース一覧を求められた場合は　docs/usecases/guide/v02/design/usecase-list　を参照して、資料作成開始。
のようにプロンプト内のキーワードと紐つける形の説明段落が必要です。
これをdesign 以下全てに記述してください。

また、## 4. ファイルごとの作成ガイド
は多分不要なので削除

---

docs/usecases/guide/v02/create-all

の位置付けは以下のようなプロンプトで使用する想定です

---

docs/usecases/v04/core-values.mdから、
[手順書](docs/usecases/guide/v02/create-all)をもとに
ユースケース概要とモデル概要の資料を作成する手順書を作成したいと思います。

---

なのでこのプロンプトがAIに入力されたら、適宜対応するガイドラインを見つけ資料作成できるような
手順が　docs/usecases/guide/v02/create-all　に書かれていて欲しいのです。

なので　docs/usecases/guide/v02/create-all-guide.md　の

### 2.3 ディレクトリ別の作成順序

## 3. ファイルごとの作成ガイド

という大切な要素を省かずに手順書には記述してください。

docs/usecases/guide/v02/create-all/steps.md

に

docs/usecases/guide/v02/create-all-guide.md
の

### 2.3 ディレクトリ別の作成順序

## 3. ファイルごとの作成ガイド

という大切な要素がはぶかれているように見えます。改善

---

### 2.2 優先順位と依存関係

には　docs/usecases/guide/v02/design　以下の
ファイルを全部作って欲しいのでそこら辺を明確化して欲しいです。。

---

docs/usecases/note/v05　をもとに各種手順書を改善してください。

---

あなたのタスクは[手順書](docs/usecases/guide/v02/create-all/)に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v06/　に保存してください。

では　Memberに対して　docs/usecases/guide/v02/design/data-model を実行してみましょう
ファイル保存先は　docs/usecases/v04
ファイルを一つ作成したら確認したいので、作業をやめ承認を取ってください。

---

docs/usecases/guide/v02/ にあったものを　docs/usecases/guide/v02/design

docs/usecases/guide/v02/create-all-guide.md

---

### 2025-3-24

あなたのタスクは[手順書](docs/usecases/guide/create-all-guide.md)と
create-all-guide.md　に関連する手順書の改善です。

docs/usecases/note/v04　の改善点をもとに手順書類の改善をお願いします

---

このように、ユースケーステキスト一つに対して多数のシナリオを列挙したファイルを作成し
ユースケーステキストにリンクを貼りたいです。パターンはもう少し増やしても良いかもです。シナリオの作り方の手順書作成とそれに伴う
手順書の修正をお願いします。

---

ペルソナ固定でシナリオのパターンを5パターンぐらい用意してください。そのうち一つは必ず読書会に設定してください。

同じ指摘を受けないよう手順書の修正をお願いします

---

では手順書をもとに、docs/usecases/v04/usecase-list.mdの「会員が新規登録する」
に関するユースケーステキストを以下の条件で作成してください

保存先　docs/usecases/v04/usecase-text

ファイルを一つ作成したら確認したいので、作業をやめ承認を取ってください。

---

テンプレートに　ペルソナの設定とそのペルソナを使った500字程度の想定シナリオを追加してください。

---

いまから usecase-list.md をもとに　ユースケーステキスト(記述)(Alistair Cockburn形式)を作成する手順書を作成してください

会員モデル（Member）から始める
保存先はdocs/usecases/v04/attribute
idはULIDを使用して、[属性名]\_idという名前にしてください。例:会員の場合はmember_id
属性は旧実装をもれなく設定してください。

- 旧実装:
  - docs/usecases/old/v03/attribute-member.md
  - docs/usecases/old/v03/attribute-staff.md

---

あなたのタスクは[手順書](docs/usecases/guide/create-all-guide.md)と
create-all-guide.md　に関連する手順書の改善です。

なので作業過程での改善点等の気づきはファイルとして docs/usecases/note/v04/　に保存してください。

ファイル保存先は　docs/usecases/v04

これから以下のプロンプトで命令するので、現在のタスクが手順書改善であることを忘れずに実行してください。

あなたはシステム設計の専門家として、以下のタスクを実行してください：

[手順書](docs/usecases/guide/v01/create-all-guide.md) をよく読んで従ってください

1. コアバリュー（docs/usecases/v04/core-value.md）を分析し、その内容を十分に理解してください。

2. 以下の手順で関連ドキュメントを作成していきます：
   a. 境界付けられたコンテキストの定義
   b. 会員とスタッフの属性一覧の作成
   c. 会員とスタッフのアクター一覧の作成
   d. 会員とスタッフのユースケース概要の作成

3. 各ドキュメントは、既存のガイドラインに従って作成し、以下の点に注意してください：

   - ドキュメント間の一貫性維持
   - 用語の統一
   - 構造の明確さ
   - セキュリティ要件の反映
   - 将来の拡張性への考慮

4. 各ステップで作成したドキュメントについて、品質レビューを実施してください。

条件は以下の通り
bounded-contextの短縮Id は極めて重要なものなので削除しないでください。
idはULIDを使用して、[属性名]\_idという名前にしてください。例:会員の場合はmember_id
文書の管理IDは付与してください。
属性は旧実装をもれなく設定してください。

- 旧実装:
  - docs/usecases/old/v03/attribute-member.md
  - docs/usecases/old/v03/attribute-staff.md

では、最初のステップとして境界付けられたコンテキストの定義から始めましょう。
ファイルを一つ作成したら確認するので承認を取ってください。

---
